import agents.interfaces.Do
import agents.interfaces.IGetThread
import generalStructure.interfaces.CycleAlert
import environnement.interfaces.EnvInfos
import environnement.interfaces.EnvUpdate
import environnement.interfaces.CellInfo

namespace general{

	ecosystem EcoAgentsEtat{
		requires threads: IGetThread
		
		species AgentEtat(id: String, username: String){
			
			part act: Act{
				bind finishedCycle to finishedCycle
				bind setEnv to setEnv
			}
	
			part decide: Decide{
				bind action to act.action
			}
	
			part perceive: Perceive{
				bind decision to decide.decision
				bind getEnvInfos to getEnvInfos
			}
			
			
			//requires getTraceElement: IGetAction
			
			provides cycle: Do = perceive.perception
			requires finishedCycle: CycleAlert
			requires getEnvInfos: EnvInfos
			requires setEnv: EnvUpdate
			requires getCellInfo: CellInfo

		}
		
		species AgentTransition(id:String){
			
		}
	}
	
	component Perceive{
		provides perception: Do
		requires decision: Do
		requires getEnvInfos: EnvInfos
	}
	
	component Decide{
		provides decision: Do
		requires action: Do
	}
	
	component Act{
		provides action: Do
		requires finishedCycle: CycleAlert
		requires setEnv: EnvUpdate
	}
		
	
}